{"version":3,"file":"pixikits.js","sources":["src/global.js","src/eventsExt.js","src/keepScreen.js","src/ui-slider.js","src/ui-scroller.js","src/ui-progressBar.js","src/index.js"],"sourcesContent":["import {Texture,Sprite,AnimatedSprite} from \"pixi.js\"\n\n// global variable\nexport let app = null;   //Application instance\n\n/**\n * init\n * @param {*} pixiApp  Application instance\n */\nexport function init(pixiApp){\n  app = pixiApp;\n};\n\n/**\n * 绘制Sprite或者AnimationSprite通用方法\n * @export PIXI.Sprite|PIXI.AnimationSprite\n * @param {Hex|PIXI.Texture|Array\\<PIXI.Texture>}  tc   素材,可以是16位颜色值，也可以是Texture，也可以是AnimationSprite的Texture数组\n * @param {float} width  默认0，如果tc不是颜色，可以不设置使用纹理的宽度\n * @param {float} height 默认0，如果tc不是颜色，可以不设置使用纹理的高度\n * @param {boolean} [autoPlay=true] 如果tc是数组，这里设置生成的AnimationSprite是否自动播放\n * @returns\n */\nexport function drawSprite(tc,width,height,autoPlay=true){\n  let object;\n  if(Number.isInteger(tc)){\n    object = new Sprite(Texture.WHITE);\n    object.tint = tc;\n  }else if(Array.isArray(tc)){\n    object = new AnimatedSprite(tc,true);\n    autoPlay && object.play();\n  }else{\n    object = new Sprite(tc);\n  }\n  if(width){\n    object.width = width;\n  }\n  if(height){\n    object.height = height;\n  }\n  return object;\n};","/**\n * 会禁用默认的interaction plugin 事件体系，换用pixijs6新增的 EventSystem.\n * 声明V7才会正式集成， 且调用初始化之前无法使用新的事件体系 EventSystem。\n * 这里引入并未不打包生效，所以需要在页面上显式的引入对应文件。\n */ \nimport * as G from \"./global.js\";\nimport { Renderer } from '@pixi/core';\nimport {EventSystem} from \"@pixi/events\";\n// If you are using the pixi.js/pixi.js-legacy bundles, you'll need to remove the interaction\n// plugin. This is not needed when using the scoped (@pixi/) packages directly.\n// delete PIXI.Renderer.__plugins.interaction;\ndelete Renderer.__plugins.interaction;\n// 初始化基础事件\nconst EventDatas = {\n  isInit:false,\n  isTap:false,\n  drag:null,\n  startGlobal:null\n};\n// 初始化\nfunction initEvent(){\n  if(EventDatas.isInit){\n    return false;\n  }\n  EventDatas.isInit = true;\n  // Install EventSystem, if not already\n  // (PixiJS 6 doesn't add it by default)\n  if (!('events' in G.app.renderer)) {\n    G.app.renderer.addSystem(EventSystem, 'events');\n  }\n  // Render stage so that it becomes the root target for UI events\n  G.app.renderer.render(G.app.stage);\n  // 确保stage区域全部可响应事件\n  G.app.stage.interactive = true;\n  G.app.stage.hitArea = G.app.renderer.screen; \n  const _dragEnd = (e)=>{\n    if(EventDatas.drag){\n      EventDatas.drag.onEnd&&EventDatas.drag.onEnd(e);\n      EventDatas.drag = null;\n    }\n    // 本次pointer周期移动距离\n    if(Math.abs(e.global.x-EventDatas.startGlobal.x)>3 || Math.abs(e.global.y-EventDatas.startGlobal.y>3)){\n      EventDatas.isTap = false;\n    }\n  };\n  G.app.stage.addEventListener('pointerdown', (e)=>{\n    EventDatas.startGlobal = e.global.clone();\n    EventDatas.isTap = true;\n    EventDatas.drag = {};\n  },true);\n  G.app.stage.addEventListener('pointermove', (e)=>{\n    if(!EventDatas.drag || !EventDatas.drag.item){\n      // _dragEnd(e);\n      return false;\n    }\n    const dragdata = EventDatas.drag;\n    const elocal = dragdata.item.parent.toLocal(e.global, null);\n    let nextPosition = dragdata.item.position.clone();\n    if(dragdata.autoMoveX){\n      nextPosition.x = elocal.x - dragdata.startOffset.x;\n    }\n    if(dragdata.autoMoveY){\n      nextPosition.y = elocal.y - dragdata.startOffset.y;\n    }\n    e.nextPosition = nextPosition;\n    e.distance = {x:elocal.x-dragdata.startLocal.x,y:elocal.y-dragdata.startLocal.y};\n    // console.log(e.nextPosition,e.distance);\n    if(dragdata.onMove &&( dragdata.onMove(e)===false)){\n      return false;\n    }\n    dragdata.item.position.set(e.nextPosition.x,e.nextPosition.y);\n  },true);\n  G.app.stage.addEventListener('pointerup', _dragEnd,true);\n  G.app.stage.addEventListener('pointerleave', _dragEnd,true);\n  G.app.stage.addEventListener('pointercancel', _dragEnd,true);\n}\n\n// ============================================= 事件部分\n/**\n * 可拖动化\n * 原始的EventSystem 移动端的拖动通用事件的movement存在bug,这里新增了下一个位置的坐标对象（event.nextPosition）\n * !!! 特别注意，如果页面翻转，movement x,y值在逻辑上是反的\n * @param {*} object   拖拽的对象\n * @param {*} params  \n *  {\n *    dragX:true,      //是否开启拖拽X\n *    dragY:true,      //是否开启拖拽Y\n *    onStart,\n *    onMove,          //返回false会阻止自动拖拽行为， event.nextPosition代表下一个位置的local坐标，e.distance都代表移动的总距离\n *    onEnd            //e.distance都代表移动的总距离\n *  }\n */\n function dragable(object,params={}){\n  if(object.isDragable){return false;}\n  object.isDragable = true;\n  object.interactive = true;\n  object.addEventListener('pointerdown', (e)=>{\n    e.preventDefault();\n    e.stopPropagation();  //必须，不然多层嵌套拖动会出现问题\n    const startLocal = e.target.parent.toLocal(e.global, null);\n    const startPosition = e.target.position;\n    const startOffset = {x:startLocal.x-startPosition.x,y:startLocal.y-startPosition.y};\n    // console.log(\"starting\",startLocal,startPosition,startOffset);\n    Object.assign(EventDatas.drag,{\n      startOffset,\n      startLocal,\n      item:object,\n      autoMoveX:params.dragX===false?false:true,\n      autoMoveY:params.dragY===false?false:true,\n      onMove:params.onMove,\n      onEnd:params.onEnd\n    });\n    params.onStart&&params.onStart(e);\n  },false);\n  // object.addEventListener('pointerup', _dragEnd);\n  // object.addEventListener('pointerout', _dragEnd);\n}\n\n/**\n *点击，eventSystem的tap和pointertap移动端并不好用，所以实现一个通用的\n * @param {*} object\n * @param {*} cb\n */\nfunction tap(object,cb){\n  if(!cb){return false;}\n  object.interactive = true;\n  if(PIXI.utils.isMobile.phone){\n    object.addEventListener(\"pointerup\",(e)=>{\n      if(EventDatas.isTap){\n        cb.bind(object)(e);\n      }\n    });\n  }else{\n    object.addEventListener(\"click\",cb);\n  }\n}\n\n\nexport {initEvent,tap,dragable};","import * as G from \"./global.js\";\nimport {Rectangle} from \"pixi.js\";\n\nexport let isSkew = false;\nlet orientation = \"v\";\n/**\n * 全屏化并保持舞台的方向\n * @param {string} direction 方向，h横向（默认），v纵向\n * @return {object} StageSize 程序逻辑意义上的宽高，比如保持横屏翻转后，高就是宽\n */\nfunction keepScreen(direction) {\n  if(direction && typeof direction==\"string\"){\n    // console.log(orientation,\"change\",orientation);\n    orientation = direction==\"h\"?\"h\":\"v\";\n  }\n  const app = G.app;\n  let wWidth = document.body.clientWidth;\n  let wHeight = document.body.clientHeight;\n\n  const isV = wWidth<wHeight;  //是否竖屏\n  isSkew = ((orientation==\"v\"&&!isV) || (orientation!=\"v\"&&isV))?true:false;\n  app.renderer.autoResize = true;    //为了确认宽高的格式正确\n  app.renderer.resize(wWidth, wHeight);\n  if(isSkew){\n    // app.stage.rotation = 1.57;\n    app.stage.angle = 90;\n    app.stage.x = wWidth;\n    app.stage.hitArea =  new Rectangle(0, 0, wHeight,wWidth);  //翻转后移动端会影响点击区域\n  }else{\n    app.stage.angle = 0;\n    app.stage.x = 0;\n    app.stage.hitArea =  app.screen;\n  }\n  // console.log(isSkew,\"isSkew\",wWidth,wHeight, app.stage.hitArea);\n\n  window.addEventListener(\"resize\",keepScreen);\n  return isSkew?{width:wHeight,height:wWidth}:{width:wWidth,height:wHeight};\n}\nexport  {keepScreen};","import {Container,Graphics} from \"pixi.js\";\nimport {dragable} from \"./eventsExt.js\";\n/**\n *拖动滚动条Slider,实例对象是容器Container的子类\n * @param {object} params\n *    length:200,     //滚动条总长度\n *    lengthBar:20,   //滚动块的长度，可根据内容区域大小比来设定\n *    width:10,       //滚动条的宽度\n *    widthBar:0,   //默认0，与with相同\n *    color:0xffffff,\n *    colorBar:0Xff3300,\n *    alpha:0.4,      //初始透明度\n *    alphaActive:0.8 //激活后的透明度\n * @param {function} cb 回调  function(percent)\n */\n class Slider extends Container{\n  constructor(params,cb){\n    super();\n    this.params = Slider.__defOptions;\n    this.percent = 0; //当前百分比\n    this.maxMovement = 0;\n    this.cb = cb;\n    // 刷新绘制slider\n    this.refresh(params);\n  \n    dragable(this.bar,{\n      dragX:false,\n      onStart:(e)=>{\n        this.setActive(true);\n      },\n      onMove:(e)=>{\n        if(this.maxMovement==0){\n          return false;\n        }\n        if(e.nextPosition.y<0){\n          e.nextPosition.y=0;\n        }\n        if(e.nextPosition.y>this.maxMovement){\n          e.nextPosition.y = this.maxMovement;\n        }\n        this.setPercent(e.nextPosition.y/this.maxMovement);\n        this.cb&&this.cb(this.percent);\n        // return false;\n      },\n      onEnd:(e)=>{\n        this.setActive(false);\n      }\n    });\n  }\n  // 重新设置参数，并刷新\n  refresh(params={}){\n    this.params = Object.assign({},this.params,params);\n    if(this.params.widthBar <= 0){\n      this.params.widthBar = this.params.width;\n    }\n    this._drawBg();\n    this._drawBar();\n    this.alpha=this.params.alpha;\n\n    this.maxMovement = this.params.length-this.params.lengthBar;\n    this.maxMovement = this.maxMovement<0?0:this.maxMovement;\n    let percent = this.maxMovement==0?0:this.bar.position.y/this.maxMovement;\n    this.setPercent(percent);\n  }\n  /**\n   * 主动设置滚动条区域的激活状态\n   * @param {boolean} active  是否激活状态\n   */\n  setActive(active=ture){\n    this.alpha=active?this.params.alphaActive:this.params.alpha;\n  }\n  /**\n   * 手动设置百分比\n   */\n  setPercent(percent,movebar=true){\n    percent =percent>1?1:(percent<0?0:percent);\n    this.percent = percent;\n    if(movebar){\n      this.bar.position.y = parseInt(this.maxMovement*percent);\n    }\n  }\n\n  // 绘制bar\n  _drawBar(){\n    if(!this.bar){\n      this.bar = this.addChild(new Graphics());\n    }\n    this.bar.clear();\n    this.bar.beginFill(this.params.colorBar)\n        .drawRoundedRect(0,0,this.params.widthBar,this.params.lengthBar,10)\n        .endFill();\n    this.bar.pivot.set(this.params.widthBar/2,0);\n  }\n  // 绘制bg\n  _drawBg(){\n    if(!this.bg){\n      this.bg = this.addChild(new Graphics());\n    }\n    this.bg.clear();\n    this.bg.beginFill(this.params.color)\n          .drawRoundedRect(0,0,this.params.width,this.params.length,1)\n          .endFill();\n    this.bg.pivot.set(this.params.width/2,0);\n  }\n}\n\n// 拖动滚动条的默认样式\nSlider.__defOptions = {\n  length:200,\n  lengthBar:50,\n  width:10,\n  widthBar:0,   //默认0，与with相同\n  color:0xffffff,\n  colorBar:0Xff3300,\n  alpha:0.6,\n  alphaActive:0.8\n};\n\nexport {Slider};","import {dragable} from \"./eventsExt.js\";\nimport {Slider} from \"./ui-slider.js\";\nimport {Container,Graphics} from \"pixi.js\";\n/**\n *滚动区域Scroller，实例是Container的子类，内容区域不满不会显示滚动条\n *通过refresh方法可以手动更新视图。通过addChild来增加内容，会自动调用refresh方法\n * @param {object} scrolParams  滚动区域设置\n *  {\n *    width:300,    \n *    height:200,\n *    x:true,             //是否开启横向滚动\n *    y:true,             //是否开启纵向滚动\n *    slideBar:false,     //开启滚动时候是否显示滚动条，设为false代表不显示，传入Slider的样式则显示滚动条（滚动条和滚动块的长度会自动计算）,默认为显示\n *    bgColor:0xFFFFFF    //不设置的话默认白色\n *  }\n */\n class Scroller extends Container{\n  //  构造函数\n  constructor(scrolParams={}){\n    super();\n    this.scrollParams = Scroller.__defScrollOptions;\n    this.sliderParams = Slider.__defOptions;\n    this.hasSlider = true;\n    this.percent = {x:0,y:0};\n    // 总容器\n    this.sortableChildren = true;\n    // 内容最大滚动坐标\n    this.contentLimitPos ={x:0,y:0};\n    // 滚动条\n    this.sliders = {x:null,y:null};\n    // 内容容器\n    this.content = super.addChildAt(new Container(),0);\n    this.content.zIndex = 2;\n    // 刷新UI\n    this.refresh(scrolParams);\n    // 内容区域可拖动\n    dragable(this,{\n      dragX:this.scrollParams.x,\n      dragY:this.scrollParams.y,\n      onStart:(e)=>{\n        this.startPos = this.content.position.clone();\n        if(this.sliders.x && this.contentLimitPos.x){\n          this.sliders.x.setActive(true);\n        }\n        if(this.sliders.y && this.contentLimitPos.y){\n          this.sliders.y.setActive(true);\n        }\n      },\n      onMove:(e)=>{\n        if(this.scrollParams.x && this.contentLimitPos.x){\n          let posx = this.startPos.x+e.distance.x;\n          posx=posx>0?0:(posx<this.contentLimitPos.x?this.contentLimitPos.x:posx);\n          this.percent.x = posx/this.contentLimitPos.x;\n        }\n        if(this.scrollParams.y && this.contentLimitPos.y){\n          let posy = this.startPos.y+e.distance.y;\n          posy=posy>0?0:(posy<this.contentLimitPos.y?this.contentLimitPos.y:posy);\n          this.percent.y = posy/this.contentLimitPos.y;\n        }\n        this._refreshPercent();\n        return false;\n      },\n      onEnd:(e)=>{\n        if(this.sliders.x ){\n          this.sliders.x.setActive(false);\n        }\n        if(this.sliders.y){\n          this.sliders.y.setActive(false);\n        }\n      }\n    });\n  }\n  // 重写addChild，自动刷新容器\n  addChild(...childs){\n    this.content.addChild(...childs);\n    this.refresh();\n    return childs[0];\n  }\n  /**\n   * 刷新Scroller。主要是重新计算内容尺寸和滚动条\n   * Scroller.addChild 会自动计算一次，但是如果是内部的对象自己增加子对象或者自己变换尺寸并不会触发refresh ，这时候就需要自己调用刷新\n   * @param object params 可以在这里重新设置参数\n   */\n  refresh(params={}){\n    this.scrollParams = Object.assign({},this.scrollParams,params);\n    this.hasSlider = this.scrollParams.slideBar?true:false;\n    if(this.hasSlider){\n      this.sliderParams = Object.assign({},this.sliderParams,params.slideBar);\n    }\n    this._drawBg();\n    this._drawSlider();\n  }\n  /**\n   * 设置横向百分比\n   * @param {float} percent  百分比\n   */\n  _refreshPercent = function(){\n    if(this.sliders.x){\n      this.sliders.x.setPercent(this.percent.x);\n    }\n    if(this.sliders.y){\n      this.sliders.y.setPercent(this.percent.y);\n    }\n    this.content.position.x = this.contentLimitPos.x*this.percent.x;\n    this.content.position.y = this.contentLimitPos.y*this.percent.y;\n  }\n  // 绘制或者更新背景\n  _drawBg (){\n    if(!this.bg){\n      this.bg = super.addChild(new Graphics());\n      this.bg.zIndex=1;\n      this.bgMask = super.addChild(new Graphics());\n      // this.bg.zIndex=1;\n    }\n    this.bg.clear();\n    this.bg.beginFill(this.scrollParams.bgColor)\n      .drawRect(0, 0, this.scrollParams.width, this.scrollParams.height)\n      .endFill();\n\n    this.bgMask.clear();\n    this.bgMask.beginFill()\n      .drawRect(0, 0, this.scrollParams.width, this.scrollParams.height)\n      .endFill();\n    this.mask = this.bgMask;\n  }\n  // 绘制或者更新滚动条\n  _drawSlider(){\n    const contentWidth = this.content.width;\n    const contentHeight = this.content.height;\n    const disx =this.scrollParams.width-contentWidth;\n    const disy =this.scrollParams.height-contentHeight;\n    this.contentLimitPos.x = disx>0?0:disx;\n    this.contentLimitPos.y = disy>0?0:disy;\n    // h slider\n    if(this.hasSlider && this.scrollParams.x){\n      let lengthBar = contentWidth==0?0:((this.scrollParams.width/contentWidth)*this.scrollParams.width);\n      const params = Object.assign({},this.sliderParams,{\n          length:this.scrollParams.width,\n          lengthBar\n        });  \n      if(!this.sliders.x){\n        this.sliders.x = new Slider(params,(percent)=>{\n          this.percent.x = percent;\n          this._refreshPercent();\n        });\n        this.sliders.x.zIndex=4;\n        this.sliders.x.position.set(0,this.scrollParams.height-this.sliders.x.width/2); \n        this.sliders.x.angle = -90;\n        super.addChild(this.sliders.x);\n      }else{\n        this.sliders.x.refresh(params);\n      }\n      this.sliders.x.visible=(this.sliders.x.maxMovement>0);\n    }else if(this.sliders.x){\n      this.removeChild(this.sliders.x);\n      this.sliders.x.destroy({children:true});\n      this.sliders.x = null;\n    }\n    // v slider\n    if(this.hasSlider && this.scrollParams.y){\n      let length = this.scrollParams.height;\n      // 纵向滚动条的长度会减去横向滚动条的宽度，防止重叠\n      if(this.sliders.x && this.sliders.x.maxMovement>0){\n        length=length-this.sliders.x.width;\n      }\n      let lengthBar = contentHeight==0?0:((this.scrollParams.height/contentHeight)*this.scrollParams.height);\n      let params = Object.assign({},this.sliderParams,{length,lengthBar});\n      // console.log(params);\n      if(!this.sliders.y){\n        this.sliders.y = new Slider(params,(percent)=>{\n          this.percent.y = percent;\n          this._refreshPercent();\n        });\n        this.sliders.y.zIndex=5;\n        this.sliders.y.position.set(this.scrollParams.width-this.sliders.y.width/2,0);\n        super.addChild(this.sliders.y);\n      }else{\n        this.sliders.y.refresh(params);\n      }\n      this.sliders.y.visible=(this.sliders.y.maxMovement>0);\n    }else if(this.sliders.y){\n      this.removeChild(this.sliders.y);\n      this.sliders.y.destroy({children:true});\n      this.sliders.y = null;\n    }\n    // 重置位置\n    this._refreshPercent();\n  }\n}\n// 默认滚动区域配置\nScroller.__defScrollOptions = {\n  width:350,\n  height:200,\n  x:true,\n  y:true,\n  slideBar:{},\n  bgColor:0xFFFFFF    //默认白色\n};\n\nexport {Scroller};","import {Container,Graphics} from \"pixi.js\"\r\nimport {drawSprite} from \"./global.js\";\r\n// 默认参数\r\nconst defaultParams = {\r\n  percent:0,\r\n  background:0xe2e2e2, //color|PIXI.Texture\r\n  progress:0x65d521,   //color|PIXI.Texture\r\n  icon:null,          //PIXI.Texture|PIXI.Texture，可以在进度条前设置一个前进的图标\r\n  width:0,            //如果background和progress不是颜色，可以不设置使用自身宽高\r\n  height:0,           //如果background和progress不是颜色，可以不设置使用自身宽高\r\n};\r\n// 实际参数\r\nconst actualParams = {};\r\n// mask\r\nconst progressMask = new Graphics();\r\n\r\n/**\r\n * ProgressBar组件\r\n */\r\nexport class ProgressBar extends Container{\r\n  // 构造函数\r\n  constructor(params){\r\n    super();\r\n    params = params||{};\r\n    Object.assign(actualParams,defaultParams,params);\r\n    this.sortableChildren = true;\r\n    \r\n    this.percent = actualParams.percent;\r\n    this.addChild(progressMask);\r\n    this.icon = null;\r\n    if(actualParams.icon){\r\n      this.icon = this.addChild(drawSprite(actualParams.icon));\r\n      this.icon.zIndex =2;\r\n    }\r\n\r\n    this.setBackground(actualParams.background);\r\n    this.setProgress(actualParams.progress);\r\n  }\r\n  \r\n  /**\r\n   * 绘制背景,可以是颜色 也可以是Sprite的纹理或者AnimatedSprite的纹理数组。\r\n   * @param  number<Color>|PIXI.Texture|Array<PIXI.Texture>\r\n   */\r\n  setBackground(background){\r\n    if(!background){\r\n      console.error(\"params is required!\");\r\n      return false;\r\n    }\r\n    if(this.background){\r\n      this.removeChild(this.background);\r\n      this.background.destory({children:true});\r\n    }\r\n    this.background = this.addChild(drawSprite(background,actualParams.width,actualParams.height));\r\n    this.background.zIndex = 0;\r\n  }\r\n  /**\r\n   * 绘制progress,可以是颜色 也可以是Sprite的纹理或者AnimatedSprite的纹理数组。\r\n   * @param  number<Color>|PIXI.Texture|Array<PIXI.Texture>\r\n   */\r\n  setProgress(progress){\r\n    if(!progress){\r\n      console.error(\"params is required!\");\r\n      return false;\r\n    }\r\n    if(this.progress){\r\n      this.removeChild(this.progress);\r\n      this.progress.destory();\r\n    }\r\n    this.progress = this.addChild(drawSprite(progress,actualParams.width,actualParams.height));\r\n    this.progress.zIndex = 1;\r\n    this.progress.mask = progressMask;\r\n\r\n    this.setPercent();\r\n  }\r\n\r\n  // 设置进度 \r\n  setPercent(percent){\r\n    if(percent){\r\n      this.percent = percent;\r\n    }\r\n    progressMask.clear();\r\n    progressMask.beginFill(0xff0000)\r\n      .drawRect(0, 0, actualParams.width*this.percent, actualParams.height)\r\n      .endFill();\r\n\r\n    if(this.icon){\r\n      this.icon.position.x=actualParams.width*this.percent;\r\n    }\r\n  }\r\n}","/**\n * 基于pixijs6, 该套件会禁用默认的interaction plugin 事件体系，换用pixijs6新增的 EventSystem,需要在页面上显式的引入对应文件, 且调用初始化之前无法使用新的事件体系 EventSystem\n * 需要注意的是该事件体系并未正式发布\n * 调用pixiToolHook初始化该组件，要在页面加载完之后\n */\nimport * as global from \"./global.js\";\nimport {initEvent,tap,dragable} from \"./eventsExt.js\";\nexport const VERSION = '1.0.0';\n/**\n * @namespace PixiKits\n */\n// 初始化\nexport function init(pixiApp){\n  global.init(pixiApp);\n  initEvent();\n};\nexport {tap,dragable};\nexport * from \"./keepScreen.js\";\nexport * from \"./ui-slider.js\";\nexport * from \"./ui-scroller.js\";\nexport * from \"./ui-progressBar.js\";\n\n\n"],"names":["app","init","pixiApp","drawSprite","tc","width","height","autoPlay","object","Number","isInteger","Sprite","Texture","WHITE","tint","Array","isArray","AnimatedSprite","play","Renderer","__plugins","interaction","EventDatas","isInit","isTap","drag","startGlobal","initEvent","G","renderer","addSystem","EventSystem","render","stage","interactive","hitArea","screen","_dragEnd","e","onEnd","Math","abs","global","x","y","addEventListener","clone","item","dragdata","elocal","parent","toLocal","nextPosition","position","autoMoveX","startOffset","autoMoveY","distance","startLocal","onMove","set","dragable","params","isDragable","preventDefault","stopPropagation","target","startPosition","Object","assign","dragX","dragY","onStart","tap","cb","PIXI","utils","isMobile","phone","bind","isSkew","orientation","keepScreen","direction","wWidth","document","body","clientWidth","wHeight","clientHeight","isV","autoResize","resize","angle","Rectangle","window","Slider","Container","constructor","__defOptions","percent","maxMovement","refresh","bar","setActive","setPercent","widthBar","_drawBg","_drawBar","alpha","length","lengthBar","active","ture","alphaActive","movebar","parseInt","addChild","Graphics","clear","beginFill","colorBar","drawRoundedRect","endFill","pivot","bg","color","Scroller","scrolParams","scrollParams","__defScrollOptions","sliderParams","hasSlider","sortableChildren","contentLimitPos","sliders","content","addChildAt","zIndex","startPos","posx","posy","_refreshPercent","childs","slideBar","_drawSlider","bgMask","bgColor","drawRect","mask","contentWidth","contentHeight","disx","disy","visible","removeChild","destroy","children","defaultParams","background","progress","icon","actualParams","progressMask","ProgressBar","setBackground","setProgress","console","error","destory","VERSION"],"mappings":"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"}