{"version":3,"file":"pixikits.js","sources":["src/global.js","src/eventsExt.js","src/keepScreen.js","src/ui-slider.js","src/ui-scroller.js","src/ui-progressBar.js","src/index.js"],"sourcesContent":["// global variable\nexport let app = null;   //Application instance\nexport let app1 = null;   //Application instance\n\n/**\n * init\n * @param {*} pixiApp  Application instance\n */\nexport function init(pixiApp){\n  app = pixiApp;\n  app1 = pixiApp;\n};\n","/**\n * 会禁用默认的interaction plugin 事件体系，换用pixijs6新增的 EventSystem.\n * 声明V7才会正式集成， 且调用初始化之前无法使用新的事件体系 EventSystem。\n * 这里引入并未不打包生效，所以需要在页面上显式的引入对应文件。\n */ \nimport * as G from \"./global.js\";\nimport { Renderer } from '@pixi/core';\nimport {EventSystem} from \"@pixi/events\";\n// If you are using the pixi.js/pixi.js-legacy bundles, you'll need to remove the interaction\n// plugin. This is not needed when using the scoped (@pixi/) packages directly.\n// delete PIXI.Renderer.__plugins.interaction;\ndelete Renderer.__plugins.interaction;\n// 初始化基础事件\nconst EventDatas = {\n  isInit:false,\n  isTap:false,\n  drag:null,\n  startGlobal:null\n};\n// 初始化\nfunction initEvent(){\n  if(EventDatas.isInit){\n    return false;\n  }\n  EventDatas.isInit = true;\n  // Install EventSystem, if not already\n  // (PixiJS 6 doesn't add it by default)\n  if (!('events' in G.app.renderer)) {\n    G.app.renderer.addSystem(EventSystem, 'events');\n  }\n  // Render stage so that it becomes the root target for UI events\n  G.app.renderer.render(G.app.stage);\n  // 确保stage区域全部可响应事件\n  G.app.stage.interactive = true;\n  G.app.stage.hitArea = G.app.renderer.screen; \n  const _dragEnd = (e)=>{\n    if(EventDatas.drag){\n      EventDatas.drag.onEnd&&EventDatas.drag.onEnd(e);\n      EventDatas.drag = null;\n    }\n    // 本次pointer周期移动距离\n    if(Math.abs(e.global.x-EventDatas.startGlobal.x)>3 || Math.abs(e.global.y-EventDatas.startGlobal.y>3)){\n      EventDatas.isTap = false;\n    }\n  };\n  G.app.stage.addEventListener('pointerdown', (e)=>{\n    EventDatas.startGlobal = e.global.clone();\n    EventDatas.isTap = true;\n    EventDatas.drag = {};\n  },true);\n  G.app.stage.addEventListener('pointermove', (e)=>{\n    if(!EventDatas.drag || !EventDatas.drag.item){\n      // _dragEnd(e);\n      return false;\n    }\n    const dragdata = EventDatas.drag;\n    const elocal = dragdata.item.parent.toLocal(e.global, null);\n    let nextPosition = dragdata.item.position.clone();\n    if(dragdata.autoMoveX){\n      nextPosition.x = elocal.x - dragdata.startOffset.x;\n    }\n    if(dragdata.autoMoveY){\n      nextPosition.y = elocal.y - dragdata.startOffset.y;\n    }\n    e.nextPosition = nextPosition;\n    e.distance = {x:elocal.x-dragdata.startLocal.x,y:elocal.y-dragdata.startLocal.y};\n    // console.log(e.nextPosition,e.distance);\n    if(dragdata.onMove &&( dragdata.onMove(e)===false)){\n      return false;\n    }\n    dragdata.item.position.set(e.nextPosition.x,e.nextPosition.y);\n  },true);\n  G.app.stage.addEventListener('pointerup', _dragEnd,true);\n  G.app.stage.addEventListener('pointerleave', _dragEnd,true);\n  G.app.stage.addEventListener('pointercancel', _dragEnd,true);\n}\n\n// ============================================= 事件部分\n/**\n * 可拖动化\n * 原始的EventSystem 移动端的拖动通用事件的movement存在bug,这里新增了下一个位置的坐标对象（event.nextPosition）\n * !!! 特别注意，如果页面翻转，movement x,y值在逻辑上是反的\n * @param {*} object   拖拽的对象\n * @param {*} params  \n *  {\n *    dragX:true,      //是否开启拖拽X\n *    dragY:true,      //是否开启拖拽Y\n *    onStart,\n *    onMove,          //返回false会阻止自动拖拽行为， event.nextPosition代表下一个位置的local坐标，e.distance都代表移动的总距离\n *    onEnd            //e.distance都代表移动的总距离\n *  }\n */\n function dragable(object,params={}){\n  if(object.isDragable){return false;}\n  object.isDragable = true;\n  object.interactive = true;\n  object.addEventListener('pointerdown', (e)=>{\n    e.preventDefault();\n    e.stopPropagation();  //必须，不然多层嵌套拖动会出现问题\n    const startLocal = e.target.parent.toLocal(e.global, null);\n    const startPosition = e.target.position;\n    const startOffset = {x:startLocal.x-startPosition.x,y:startLocal.y-startPosition.y};\n    // console.log(\"starting\",startLocal,startPosition,startOffset);\n    Object.assign(EventDatas.drag,{\n      startOffset,\n      startLocal,\n      item:object,\n      autoMoveX:params.dragX===false?false:true,\n      autoMoveY:params.dragY===false?false:true,\n      onMove:params.onMove,\n      onEnd:params.onEnd\n    });\n    params.onStart&&params.onStart(e);\n  },false);\n  // object.addEventListener('pointerup', _dragEnd);\n  // object.addEventListener('pointerout', _dragEnd);\n}\n\n/**\n *点击，eventSystem的tap和pointertap移动端并不好用，所以实现一个通用的\n * @param {*} object\n * @param {*} cb\n */\nfunction tap(object,cb){\n  if(!cb){return false;}\n  object.interactive = true;\n  if(PIXI.utils.isMobile.phone){\n    object.addEventListener(\"pointerup\",(e)=>{\n      if(EventDatas.isTap){\n        cb.bind(object)(e);\n      }\n    });\n  }else{\n    object.addEventListener(\"click\",cb);\n  }\n}\n\n\nexport {initEvent,tap,dragable};","import * as G from \"./global.js\";\nimport {Rectangle} from \"pixi.js\";\n\nexport let isSkew = false;\nlet orientation = \"v\";\n/**\n * 全屏化并保持舞台的方向\n * @param {string} direction 方向，h横向（默认），v纵向\n * @return {object} StageSize 程序逻辑意义上的宽高，比如保持横屏翻转后，高就是宽\n */\nfunction keepScreen(direction) {\n  if(direction && typeof direction==\"string\"){\n    // console.log(orientation,\"change\",orientation);\n    orientation = direction==\"h\"?\"h\":\"v\";\n  }\n  const app = G.app;\n  let wWidth = document.body.clientWidth;\n  let wHeight = document.body.clientHeight;\n\n  const isV = wWidth<wHeight;  //是否竖屏\n  isSkew = ((orientation==\"v\"&&!isV) || (orientation!=\"v\"&&isV))?true:false;\n  app.renderer.autoResize = true;    //为了确认宽高的格式正确\n  app.renderer.resize(wWidth, wHeight);\n  if(isSkew){\n    // app.stage.rotation = 1.57;\n    app.stage.angle = 90;\n    app.stage.x = wWidth;\n    app.stage.hitArea =  new Rectangle(0, 0, wHeight,wWidth);  //翻转后移动端会影响点击区域\n  }else{\n    app.stage.angle = 0;\n    app.stage.x = 0;\n    app.stage.hitArea =  app.screen;\n  }\n  // console.log(isSkew,\"isSkew\",wWidth,wHeight, app.stage.hitArea);\n\n  window.addEventListener(\"resize\",keepScreen);\n  return isSkew?{width:wHeight,height:wWidth}:{width:wWidth,height:wHeight};\n}\nexport  {keepScreen};","import {Container,Graphics} from \"pixi.js\";\nimport {dragable} from \"./eventsExt.js\";\n/**\n *拖动滚动条Slider,实例对象是容器Container的子类\n * @param {object} params\n *    length:200,     //滚动条总长度\n *    lengthBar:20,   //滚动块的长度，可根据内容区域大小比来设定\n *    width:10,       //滚动条的宽度\n *    widthBar:0,   //默认0，与with相同\n *    color:0xffffff,\n *    colorBar:0Xff3300,\n *    alpha:0.4,      //初始透明度\n *    alphaActive:0.8 //激活后的透明度\n * @param {function} cb 回调  function(percent)\n */\n class Slider extends Container{\n  constructor(params,cb){\n    super();\n    this.params = Slider.__defOptions;\n    this.percent = 0; //当前百分比\n    this.maxMovement = 0;\n    this.cb = cb;\n    // 刷新绘制slider\n    this.refresh(params);\n  \n    dragable(this.bar,{\n      dragX:false,\n      onStart:(e)=>{\n        this.setActive(true);\n      },\n      onMove:(e)=>{\n        if(this.maxMovement==0){\n          return false;\n        }\n        if(e.nextPosition.y<0){\n          e.nextPosition.y=0;\n        }\n        if(e.nextPosition.y>this.maxMovement){\n          e.nextPosition.y = this.maxMovement;\n        }\n        this.setPercent(e.nextPosition.y/this.maxMovement);\n        this.cb&&this.cb(this.percent);\n        // return false;\n      },\n      onEnd:(e)=>{\n        this.setActive(false);\n      }\n    });\n  }\n \n}\n// 重新设置参数，并刷新\nSlider.prototype.refresh = function(params={}){\n  this.params = Object.assign({},this.params,params);\n  if(this.params.widthBar <= 0){\n    this.params.widthBar = this.params.width;\n  }\n  this._drawBg();\n  this._drawBar();\n  this.alpha=this.params.alpha;\n\n  this.maxMovement = this.params.length-this.params.lengthBar;\n  this.maxMovement = this.maxMovement<0?0:this.maxMovement;\n  let percent = this.maxMovement==0?0:this.bar.position.y/this.maxMovement;\n  this.setPercent(percent);\n};\n\n/**\n * 主动设置滚动条区域的激活状态\n * @param {boolean} active  是否激活状态\n */\nSlider.prototype.setActive=function(active=ture){\n  this.alpha=active?this.params.alphaActive:this.params.alpha;\n};\n/**\n * 手动设置百分比\n */\nSlider.prototype.setPercent = function(percent,movebar=true){\n  percent =percent>1?1:(percent<0?0:percent);\n  this.percent = percent;\n  if(movebar){\n    this.bar.position.y = parseInt(this.maxMovement*percent);\n  }\n};\n// 绘制bar\nSlider.prototype._drawBar = function(){\n  if(!this.bar){\n    this.bar = this.addChild(new Graphics());\n  }\n  this.bar.clear();\n  this.bar.beginFill(this.params.colorBar)\n      .drawRoundedRect(0,0,this.params.widthBar,this.params.lengthBar,10)\n      .endFill();\n  this.bar.pivot.set(this.params.widthBar/2,0);\n};\n// 绘制bg\nSlider.prototype._drawBg = function(){\n  if(!this.bg){\n    this.bg = this.addChild(new Graphics());\n  }\n  this.bg.clear();\n  this.bg.beginFill(this.params.color)\n        .drawRoundedRect(0,0,this.params.width,this.params.length,1)\n        .endFill();\n  this.bg.pivot.set(this.params.width/2,0);\n};\n// 拖动滚动条的默认样式\nSlider.__defOptions = {\n  length:200,\n  lengthBar:50,\n  width:10,\n  widthBar:0,   //默认0，与with相同\n  color:0xffffff,\n  colorBar:0Xff3300,\n  alpha:0.6,\n  alphaActive:0.8\n};\n\nexport {Slider};","import {dragable} from \"./eventsExt.js\";\nimport {Slider} from \"./ui-slider.js\";\nimport {Container,Graphics} from \"pixi.js\";\n/**\n *滚动区域Scroller，实例是Container的子类，内容区域不满不会显示滚动条\n *通过refresh方法可以手动更新视图。通过addChild来增加内容，会自动调用refresh方法\n * @param {object} scrolParams  滚动区域设置\n *  {\n *    width:300,    \n *    height:200,\n *    x:true,             //是否开启横向滚动\n *    y:true,             //是否开启纵向滚动\n *    slideBar:false,     //开启滚动时候是否显示滚动条，设为false代表不显示，传入Slider的样式则显示滚动条（滚动条和滚动块的长度会自动计算）,默认为显示\n *    bgColor:0xFFFFFF    //不设置的话默认白色\n *  }\n */\n class Scroller extends Container{\n  constructor(scrolParams={}){\n    super();\n    this.scrollParams = Scroller.__defScrollOptions;\n    this.sliderParams = Slider.__defOptions;\n    this.hasSlider = true;\n    this.percent = {x:0,y:0};\n    // 总容器\n    this.sortableChildren = true;\n    // 内容最大滚动坐标\n    this.contentLimitPos ={x:0,y:0};\n    // 滚动条\n    this.sliders = {x:null,y:null};\n    // 内容容器\n    this.content = super.addChildAt(new Container(),0);\n    this.content.zIndex = 2;\n    // 刷新UI\n    this.refresh(scrolParams);\n    // 内容区域可拖动\n    dragable(this,{\n      dragX:this.scrollParams.x,\n      dragY:this.scrollParams.y,\n      onStart:(e)=>{\n        this.startPos = this.content.position.clone();\n        if(this.sliders.x && this.contentLimitPos.x){\n          this.sliders.x.setActive(true);\n        }\n        if(this.sliders.y && this.contentLimitPos.y){\n          this.sliders.y.setActive(true);\n        }\n      },\n      onMove:(e)=>{\n        if(this.scrollParams.x && this.contentLimitPos.x){\n          let posx = this.startPos.x+e.distance.x;\n          posx=posx>0?0:(posx<this.contentLimitPos.x?this.contentLimitPos.x:posx);\n          this.percent.x = posx/this.contentLimitPos.x;\n        }\n        if(this.scrollParams.y && this.contentLimitPos.y){\n          let posy = this.startPos.y+e.distance.y;\n          posy=posy>0?0:(posy<this.contentLimitPos.y?this.contentLimitPos.y:posy);\n          this.percent.y = posy/this.contentLimitPos.y;\n        }\n        this._refreshPercent();\n        return false;\n      },\n      onEnd:(e)=>{\n        if(this.sliders.x ){\n          this.sliders.x.setActive(false);\n        }\n        if(this.sliders.y){\n          this.sliders.y.setActive(false);\n        }\n      }\n    });\n  }\n\n  // 绘制或者更新背景\n  _drawBg (){\n    if(!this.bg){\n      this.bg = super.addChild(new Graphics());\n      this.bg.zIndex=1;\n      this.bgMask = super.addChild(new Graphics());\n      // this.bg.zIndex=1;\n    }\n    this.bg.clear();\n    this.bg.beginFill(this.scrollParams.bgColor)\n      .drawRect(0, 0, this.scrollParams.width, this.scrollParams.height)\n      .endFill();\n\n    this.bgMask.clear();\n    this.bgMask.beginFill()\n      .drawRect(0, 0, this.scrollParams.width, this.scrollParams.height)\n      .endFill();\n    this.mask = this.bgMask;\n  }\n\n  // 绘制或者更新滚动条\n  _drawSlider(){\n    const contentWidth = this.content.width;\n    const contentHeight = this.content.height;\n    const disx =this.scrollParams.width-contentWidth;\n    const disy =this.scrollParams.height-contentHeight;\n    this.contentLimitPos.x = disx>0?0:disx;\n    this.contentLimitPos.y = disy>0?0:disy;\n    // h slider\n    if(this.hasSlider && this.scrollParams.x){\n      let lengthBar = contentWidth==0?0:((this.scrollParams.width/contentWidth)*this.scrollParams.width);\n      const params = Object.assign({},this.sliderParams,{\n          length:this.scrollParams.width,\n          lengthBar\n        });  \n      if(!this.sliders.x){\n        this.sliders.x = new Slider(params,(percent)=>{\n          this.percent.x = percent;\n          this._refreshPercent();\n        });\n        this.sliders.x.zIndex=4;\n        this.sliders.x.position.set(0,this.scrollParams.height-this.sliders.x.width/2); \n        this.sliders.x.angle = -90;\n        super.addChild(this.sliders.x);\n      }else{\n        this.sliders.x.refresh(params);\n      }\n      this.sliders.x.visible=(this.sliders.x.maxMovement>0);\n    }else if(this.sliders.x){\n      this.removeChild(this.sliders.x);\n      this.sliders.x.destroy({children:true});\n      this.sliders.x = null;\n    }\n    // v slider\n    if(this.hasSlider && this.scrollParams.y){\n      let length = this.scrollParams.height;\n      // 纵向滚动条的长度会减去横向滚动条的宽度，防止重叠\n      if(this.sliders.x && this.sliders.x.maxMovement>0){\n        length=length-this.sliders.x.width;\n      }\n      let lengthBar = contentHeight==0?0:((this.scrollParams.height/contentHeight)*this.scrollParams.height);\n      let params = Object.assign({},this.sliderParams,{length,lengthBar});\n      // console.log(params);\n      if(!this.sliders.y){\n        this.sliders.y = new Slider(params,(percent)=>{\n          this.percent.y = percent;\n          this._refreshPercent();\n        });\n        this.sliders.y.zIndex=5;\n        this.sliders.y.position.set(this.scrollParams.width-this.sliders.y.width/2,0);\n        super.addChild(this.sliders.y);\n      }else{\n        this.sliders.y.refresh(params);\n      }\n      this.sliders.y.visible=(this.sliders.y.maxMovement>0);\n    }else if(this.sliders.y){\n      this.removeChild(this.sliders.y);\n      this.sliders.y.destroy({children:true});\n      this.sliders.y = null;\n    }\n    // 重置位置\n    this._refreshPercent();\n  }\n}\n// 重写addChild\nScroller.prototype.addChild = function(...childs){\n  this.content.addChild(...childs);\n  this.refresh();\n  return childs[0];\n};\n/**\n * 刷新Scroller。主要是重新计算内容尺寸和滚动条\n * Scroller.addChild 会自动计算一次，但是如果是内部的对象自己增加子对象或者自己变换尺寸并不会触发refresh ，这时候就需要自己调用刷新\n * @param object params 可以在这里重新设置参数\n */\nScroller.prototype.refresh = function(params={}){\n  this.scrollParams = Object.assign({},this.scrollParams,params);\n  this.hasSlider = this.scrollParams.slideBar?true:false;\n  if(this.hasSlider){\n    this.sliderParams = Object.assign({},this.sliderParams,params.slideBar);\n  }\n  this._drawBg();\n  this._drawSlider();\n};\n\n/**\n * 设置横向百分比\n * @param {float} percent  百分比\n */\nScroller.prototype._refreshPercent = function(){\n  if(this.sliders.x){\n    this.sliders.x.setPercent(this.percent.x);\n  }\n  if(this.sliders.y){\n    this.sliders.y.setPercent(this.percent.y);\n  }\n  this.content.position.x = this.contentLimitPos.x*this.percent.x;\n  this.content.position.y = this.contentLimitPos.y*this.percent.y;\n};\n// 默认滚动区域配置\nScroller.__defScrollOptions = {\n  width:350,\n  height:200,\n  x:true,\n  y:true,\n  slideBar:{},\n  bgColor:0xFFFFFF    //默认白色\n};\n\nexport {Scroller};","import {Container,Texture,Graphics,Sprite,AnimatedSprite} from \"pixi.js\"\r\n\r\n// 默认参数\r\nconst defaultParams = {\r\n  percent:0,\r\n  background:0xe2e2e2, //color|PIXI.Texture\r\n  progress:0x65d521,   //color|PIXI.Texture\r\n  icon:null,          //PIXI.Texture|PIXI.Texture，可以在进度条前设置一个前进的图标\r\n  width:0,            //如果background和progress不是颜色，可以不设置使用自身宽高\r\n  height:0,           //如果background和progress不是颜色，可以不设置使用自身宽高\r\n};\r\n// 实际参数\r\nconst actualParams = {};\r\n\r\nconst progressMask = new Graphics();\r\n// 绘制对象，tc可以是颜色，可以是Texture或者AnimatedSprite的纹理数组。\r\nconst drawObject = (tc,autoWidth=false)=>{\r\n  let object,autoSize=true;\r\n  if(Number.isInteger(tc)){\r\n    object = new Sprite(Texture.WHITE);\r\n    object.tint = tc;\r\n  }else if(Array.isArray(tc)){\r\n    object = new AnimatedSprite(tc,true);\r\n    object.animationSpeed = 0.5;\r\n    object.play();\r\n  }else{\r\n    object = new Sprite(tc);\r\n  }\r\n  if(!autoWidth && actualParams.width){\r\n    object.width = actualParams.width;\r\n  }\r\n  if(!autoWidth && actualParams.height){\r\n    object.height = actualParams.height;\r\n  }\r\n  return object;\r\n};\r\n\r\n/**\r\n * ProgressBar组件\r\n */\r\nexport class ProgressBar extends Container{\r\n  // 构造函数\r\n  constructor(params){\r\n    super();\r\n    params = params||{};\r\n    Object.assign(actualParams,defaultParams,params);\r\n    this.sortableChildren = true;\r\n    \r\n    this.percent = actualParams.percent;\r\n    this.addChild(progressMask);\r\n    this.icon = null;\r\n    if(actualParams.icon){\r\n      this.icon = this.addChild(drawObject(actualParams.icon,true));\r\n      this.icon.anchor.set(0.5);\r\n      this.icon.zIndex =2;\r\n    }\r\n\r\n    this.setBackground(actualParams.background);\r\n    this.setProgress(actualParams.progress);\r\n  }\r\n  \r\n  /**\r\n   * 绘制背景,可以是颜色 也可以是Sprite的纹理或者AnimatedSprite的纹理数组。\r\n   * @param  number<Color>|PIXI.Texture|Array<PIXI.Texture>\r\n   */\r\n  setBackground(background){\r\n    if(!background){\r\n      console.error(\"params is required!\");\r\n      return false;\r\n    }\r\n    if(this.background){\r\n      this.removeChild(this.background);\r\n      this.background.destory({children:true});\r\n    }\r\n    this.background = this.addChild(drawObject(background));\r\n    this.background.zIndex = 0;\r\n  }\r\n  /**\r\n   * 绘制progress,可以是颜色 也可以是Sprite的纹理或者AnimatedSprite的纹理数组。\r\n   * @param  number<Color>|PIXI.Texture|Array<PIXI.Texture>\r\n   */\r\n  setProgress(progress){\r\n    if(!progress){\r\n      console.error(\"params is required!\");\r\n      return false;\r\n    }\r\n    if(this.progress){\r\n      this.removeChild(this.progress);\r\n      this.progress.destory();\r\n    }\r\n    this.progress = this.addChild(drawObject(progress));\r\n    this.progress.zIndex = 1;\r\n    this.progress.mask = progressMask;\r\n\r\n    this.setPercent();\r\n  }\r\n\r\n  // 设置进度 \r\n  setPercent(percent){\r\n    if(percent){\r\n      this.percent = percent;\r\n    }\r\n    progressMask.clear();\r\n    progressMask.beginFill(0xff0000)\r\n      .drawRect(0, 0, actualParams.width*this.percent, actualParams.height)\r\n      .endFill();\r\n\r\n    if(this.icon){\r\n      this.icon.position.x=actualParams.width*this.percent;\r\n    }\r\n  }\r\n}","/**\n * 基于pixijs6, 该套件会禁用默认的interaction plugin 事件体系，换用pixijs6新增的 EventSystem,需要在页面上显式的引入对应文件, 且调用初始化之前无法使用新的事件体系 EventSystem\n * 需要注意的是该事件体系并未正式发布\n * 调用pixiToolHook初始化该组件，要在页面加载完之后\n */\nimport * as global from \"./global.js\";\nimport {initEvent,tap,dragable} from \"./eventsExt.js\";\nexport const VERSION = '1.0.0';\n/**\n * @namespace PixiKits\n */\n// 初始化\nexport function init(pixiApp){\n  global.init(pixiApp);\n  initEvent();\n};\nexport {tap,dragable};\nexport * from \"./keepScreen.js\";\nexport * from \"./ui-slider.js\";\nexport * from \"./ui-scroller.js\";\nexport * from \"./ui-progressBar.js\";\n\n\n"],"names":["app","init","pixiApp","Renderer","__plugins","interaction","EventDatas","isInit","isTap","drag","startGlobal","initEvent","G","renderer","addSystem","EventSystem","render","stage","interactive","hitArea","screen","_dragEnd","e","onEnd","Math","abs","global","x","y","addEventListener","clone","item","dragdata","elocal","parent","toLocal","nextPosition","position","autoMoveX","startOffset","autoMoveY","distance","startLocal","onMove","set","dragable","object","params","isDragable","preventDefault","stopPropagation","target","startPosition","Object","assign","dragX","dragY","onStart","tap","cb","PIXI","utils","isMobile","phone","bind","isSkew","orientation","keepScreen","direction","wWidth","document","body","clientWidth","wHeight","clientHeight","isV","autoResize","resize","angle","Rectangle","window","width","height","Slider","Container","constructor","__defOptions","percent","maxMovement","refresh","bar","setActive","setPercent","prototype","widthBar","_drawBg","_drawBar","alpha","length","lengthBar","active","ture","alphaActive","movebar","parseInt","addChild","Graphics","clear","beginFill","colorBar","drawRoundedRect","endFill","pivot","bg","color","Scroller","scrolParams","scrollParams","__defScrollOptions","sliderParams","hasSlider","sortableChildren","contentLimitPos","sliders","content","addChildAt","zIndex","startPos","posx","posy","_refreshPercent","bgMask","bgColor","drawRect","mask","_drawSlider","contentWidth","contentHeight","disx","disy","visible","removeChild","destroy","children","childs","slideBar","defaultParams","background","progress","icon","actualParams","progressMask","drawObject","tc","autoWidth","Number","isInteger","Sprite","Texture","WHITE","tint","Array","isArray","AnimatedSprite","animationSpeed","play","ProgressBar","anchor","setBackground","setProgress","console","error","destory","VERSION"],"mappings":"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"}